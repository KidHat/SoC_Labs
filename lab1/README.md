# Лабораторная работа 1 (RISC-V ASM)

## Цель
Получить практический опыт работы с набором команд RISC-V и соглашением вызова функций ABI на примере обработки двумерного массива.

## Постановка задачи
Вариант 8: для массива `6x6` вычислить сумму отрицательных элементов.

## Структура проекта
- `task8.c` — реализация алгоритма на языке C.
- `task8.S` — реализация алгоритма на RISC-V ASM.
- `task8.elf` — исполняемый ELF-файл для RV32I.
- `task8.dump` — дизассемблированный листинг ELF.
- `Makefile` — команды сборки.
- `example.c`, `example.S`, `Makefile.txt` — вспомогательные примерные файлы.

## Идея решения
1. Инициализировать сумму значением `0`.
2. Последовательно пройти по всем 36 элементам матрицы.
3. Для каждого элемента выполнить проверку `value < 0`.
4. Если условие истинно, добавить элемент к сумме.
5. Вернуть итоговое значение.

## Реализация на ASM
В `task8.S` обработка вынесена в отдельную функцию:
- входные аргументы: `a0` — адрес первого элемента массива, `a1` — количество элементов;
- возвращаемое значение: `a0` — сумма отрицательных элементов.

Функция вызывается из `main` через `jal`, что соответствует соглашению вызовов RISC-V ABI.

## Сборка
### Вариант через `make` (Linux toolchain)
```bash
make clean
make
make asm
```

### Вариант для macOS (Homebrew toolchain)
```bash
riscv64-elf-gcc -march=rv32i -mabi=ilp32 -nostdlib -nostartfiles -ffreestanding -Wl,-e,main task8.c -o task8.elf
riscv64-elf-objdump -D task8.elf > task8.dump
```

## Проверка в Venus
1. Открыть https://www.kvakil.me/venus/.
2. Загрузить содержимое `task8.S`.
3. Выполнить программу.
4. В консоли получить сумму отрицательных элементов и перевод строки.

## Результат
Для тестового массива из задания итоговая сумма отрицательных элементов:
`-75`.
